<head>
	<link rel="stylesheet" type="text/css" href="searchstyle.css">
</head>


 /* example from www.w3schools.com/howto/howto_js_filterdropdown.asp */
<div id="dropdownUI" class="UserInterfaceSearchScreen">
	<input id="inputBox" type="text" placeholder="Enter search..." onkeyup="displayFilter()">
	<div id="dropDownList" class="dropDownList">

		<a href="#apple">Apple</a>
		<a href="#banana">Banana</a>
		<a href="#carrot">Carrot</a>
		<a href="#danish">Danish</a>
		<a href="#eggplant">Eggplant</a>
		<a href="#fritters">Fritters</a>
		<a href="#garlic">Garlic</a>
		<a href="#halloumi">Halloumi</a>
		<a href="#ice">Ice</a>
		<a href="#jalapeno">Jalapeno</a>
	</div>

</div>

<body>
    <div id="displaybody">
        <h1> This is a test header</h1>

        <p> This is a test body to see if the search bar can be overlayed on the top of regular text</p>
    </div>
</body>

<script>
    //Based on example from http://blustemy.io/detecting-a-click-outside-an-element-in-javascript/
    document.addEventListener("click", (evt) => {
        const flyoutElement = document.getElementById("dropdownUI");
        var clickFlag = false;
        let targetElement = evt.target;

        do {
            if (targetElement == flyoutElement) {
                // A click has been made in the search bar and associated items
                clickFlag = true;

            }
            
            targetElement = targetElement.parentNode;
        } while (targetElement);

        if (clickFlag) {
            // Show search items
            searchFilter();
        }
        else {
            // Hide search items
            searchFilterBlur();
        }

        return;
    });


    function searchFilter() {
        document.getElementById("dropDownList").classList.toggle("show");
	}

    function searchFilterBlur() {
        document.getElementById("dropDownList").classList.toggle("hide");
    }




	function displayFilter() {
		var searchInput, searchValue, a, i;

		searchInput = document.getElementById("inputBox");

		searchValue = searchInput.value.toUpperCase();

		div = document.getElementById("dropDownList");

		a = div.getElementsByTagName("a");

		for (i = 0; i < a.length; i++) {
			if (a[i].innerHTML.toUpperCase().indexOf(searchValue) > -1) {
				a[i].style.display = "";
			}
			else {
				a[i].style.display = "none";
			}

		}
	}
</script>